sudo: false
dist: trusty
language: php

matrix:
  include:
  - php: 7.2
    env: SYMFONY_VERSION='~3.4.0'
  - php: 7.2
    env: SYMFONY_VERSION='~4.0.0'

before_script:
- if [ "$SYMFONY_VERSION" != "" ]; then composer require --no-update "symfony/framework-bundle:${SYMFONY_VERSION}"; fi;
- composer update

script:
  - ./vendor/bin/php-cs-fixer fix --dry-run --diff
  - ./vendor/bin/phpstan analyse
  - phpunit -c phpunit.xml.dist
